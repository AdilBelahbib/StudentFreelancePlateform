<ui:composition xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
xmlns:ui="http://java.sun.com/jsf/facelets"
xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
template="../templates/common.xhtml">
	<ui:define name="content">
	
		<div class="container">
	<div class="stepwizard">
		<div class="stepwizard-row setup-panel">
			<div class="stepwizard-step">
				<a href="#step-1" type="button" class="btn btn-primary btn-circle">1</a>
				<p>Etape 1</p>
			</div>
			<div class="stepwizard-step">
				<a href="#step-2" type="button" class="btn btn-default btn-circle"
				disabled="disabled">2</a>
				<p>Etape 2</p>
			</div>
			<div class="stepwizard-step">
				<a href="#step-3" type="button" class="btn btn-default btn-circle"
				disabled="disabled">3</a>
				<p>Etape 3</p>
			</div>
			<div class="stepwizard-step">
				<a href="#step-4" type="button" class="btn btn-default btn-circle"
				disabled="disabled">4</a>
				<p>Etape 4</p>
			</div>
		</div>
	</div>
	
	<h:form>
	<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
	<!--ETAPE 1 : Les Remunerations-->
	<div class="row setup-content" id="step-1">
		<div class="col-xs-12">
			<div class="col-md-12">
				<h3>Etape 1: Les remunerations</h3>
				
			</div>
			<div class="row">
				<div class="col-md-10">
					<div class="form-group">
						<button data-toggle="modal" data-target="#ajoutRemuneration" class="btn btn-default btn-lg pull-right" type="button" >+</button>

						<table class="table table-striped table-hover">
							<tr>
								<th>Remuenerations</th>
							</tr>

							<c:forEach items="#{appelOffreController.appelOffre.remunerations}" var="remuneration" varStatus="statut">
							<tr>
								<td>#{remuneration.intitule} #{remuneration.somme} #{remuneration.devise}</td>
								<td>
									<h:commandButton action="#{appelOffreController.retirerRemuneration()}" styleClass="close">
									<f:setPropertyActionListener target="#{appelOffreController.remuneration}" value="#{remuneration}" />
								</h:commandButton>
							</td>
						</tr>
					</c:forEach>
				</table>

				<button class="btn btn-primary nextBtn btn-lg pull-right"
	type="button">Suivant</button>
			</div>
		</div>
	</div>
</div>
</div>
<!-- / ETAPE 1-->
<!--  Etape 2 -->
<div class="row setup-content" id="step-2">
<div class="col-xs-12">
			<div class="col-md-12">
				<h3>Etape 2: Les experiences</h3>
				
			</div>
			<div class="row">
				<div class="col-md-10">
					<div class="form-group">
						<button data-toggle="modal" data-target="#ajoutExperience" class="btn btn-default btn-lg pull-right" type="button" >+</button>

						<table class="table table-striped table-hover">
							<tr>
								<th>Experiences</th>
							</tr>

							<c:forEach items="#{appelOffreController.experiencesAppelOffre}" var="experience" varStatus="statut">
							<tr>
								<td>#{experience.responsabilite} - #{experience.sujet} - #{experience.salaire}</td>
								<td>
									<h:commandButton action="#{appelOffreController.retirerExperience()}" styleClass="close">
									<f:setPropertyActionListener target="#{appelOffreController.experience}" value="#{experience}" />
								</h:commandButton>
							</td>
						</tr>
					</c:forEach>
				</table>

				<button class="btn btn-primary nextBtn btn-lg pull-right"
	type="button">Suivant</button>
			</div>
		</div>
	</div>
</div>
</div>
<!--  /Etape 2 -->


<!--  Etape 3 -->
<div class="row setup-content" id="step-3">
<div class="col-xs-12">
			<div class="col-md-12">
				<h3>Etape 3: Les formations</h3>
				
			</div>
			<div class="row">
				<div class="col-md-10">
					<div class="form-group">
						<button data-toggle="modal" data-target="#ajoutFormation" class="btn btn-default btn-lg pull-right" type="button" >+</button>

						<table class="table table-striped table-hover">
							<tr>
								<th>Formations</th>
							</tr>

							<c:forEach items="#{appelOffreController.formationsAppelOffre}" var="formation" varStatus="statut">
							<tr>
								<td>#{formation.intituleFormation}</td>
								<td>
									<h:commandButton action="#{appelOffreController.retirerFormation()}" styleClass="close">
									<f:setPropertyActionListener target="#{appelOffreController.formation}" value="#{formation}" />
								</h:commandButton>
							</td>
						</tr>
					</c:forEach>
				</table>

				<button class="btn btn-primary nextBtn btn-lg pull-right"
	type="button">Suivant</button>
			</div>
		</div>
	</div>
</div>
</div>
<!--  /Etape 3 -->

<!--  Etape 4 -->
<div class="row setup-content" id="step-4">
<div class="col-xs-12">
			<div class="col-md-12">
				<h3>Etape 3: Les competences requises</h3>
				
			</div>
			<div class="row">
				<div class="col-md-10">
					<div class="form-group">
					<button data-toggle="modal" data-target="#ajoutCompetence" class="btn btn-default btn-lg pull-right" type="button" >+</button>

				           
					 
						<table class="table table-striped table-hover">
							<tr>
								<th>Competences</th>
							</tr>

							<c:forEach items="#{appelOffreController.appelOffre.competences}" var="competence" varStatus="statut">
							<tr>
								<td>#{competence.intitule}</td>
								<td>
									<h:commandButton action="#{appelOffreController.retirerCompetence()}" styleClass="close">
									<f:setPropertyActionListener target="#{appelOffreController.competence}" value="#{competence}" />
								</h:commandButton>
							</td>
						</tr>
					</c:forEach>
				</table>

				<!-- <button class="btn btn-primary nextBtn btn-lg pull-right" type="button">Valider</button> -->
				<h:commandButton  action="#{appelOffreController.ajouterAppelOffre()}" styleClass="btn btn-success btn-lg pull-right" value="Terminer">
					<f:param name="requete" value="post" />
				</h:commandButton>
			</div>
		</div>
	</div>
</div>
</div>
<!--  /Etape 3 -->


</h:form>
</div>




<!-- LES MODALS -->
<!-- MODAL: Ajout remuneration-->
<div class="modal fade" id="ajoutRemuneration" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
				<h3 class="modal-title" id="lineModalLabel">Ajout remuneration</h3>
			</div>
			<div class="modal-body">

				<!-- content goes here -->
				<h:form >

				<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
				<div class="form-group">
					<label for="intitule">Intitule</label>
					<div class='input-group date'>
						<h:inputText id="intitule" value="#{appelOffreController.remuneration.intitule}" styleClass="form-control" />
					</div>
				</div>
				<div class="form-group">
					<label for="devise">Devise</label>
					<div class='input-group date'>
						<h:selectOneMenu class="form-control" id="devise" value="#{appelOffreController.remuneration.devise}" >
   							<f:selectItem itemValue="Euro" itemLabel="Euro"/>
   							<f:selectItem itemValue="Dirham" itemLabel="Dirham"/>
   							<f:selectItem itemValue="Dollar" itemLabel="Dollar"/>
						</h:selectOneMenu>					</div>
				</div>
				<div class="form-group">
					<label for="somme">Somme</label>
					<h:inputText id="somme" value="#{appelOffreController.remuneration.somme}" styleClass="form-control" />
				</div>

				<div class="btn-group" role="group">
					<h:commandButton action="#{appelOffreController.ajouterRemuneration()}" styleClass="btn btn-success btn-hover-green" value="Ajouter"/>
				</div>

			</h:form>

		</div>
		<div class="modal-footer">
			<div class="btn-group btn-group-justified" role="group" aria-label="group button">
				<div class="btn-group" role="group">
					<button type="button" class="btn btn-default" data-dismiss="modal"  role="button">Fermer</button>
				</div>
			</div>
		</div>
	</div>
</div>
</div>
<!-- /MODAL: Ajout remuneration-->

<!-- MODAL: Ajout experience-->
<div class="modal fade" id="ajoutExperience" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
				<h3 class="modal-title" id="lineModalLabel">Ajout experience</h3>
			</div>
			<div class="modal-body">

				<!-- content goes here -->
				<h:form >

				<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
				<div class="form-group">
					<label for="responsabilite">Responsabilite</label>
					<div class='input-group date'>
						<h:inputText id="responsabilite" value="#{appelOffreController.experience.responsabilite}" styleClass="form-control" />
					</div>
				</div>
				<div class="form-group">
					<label for="sujet">Sujet</label>
					<div class='input-group date'>
						<h:inputText id="sujet" value="#{appelOffreController.experience.sujet}" styleClass="form-control" />
					</div>
				</div>
				<div class="form-group">
					<label for="structure">Structure d'accueil</label>
					<div class='input-group date'>
						<h:inputText id="structure" value="#{appelOffreController.experience.structureAccueil}" styleClass="form-control" />
					</div>
				</div>
				<div class="form-group">
					<label for="salaire">Salaire</label>
					<h:inputText id="salaire" value="#{appelOffreController.experience.salaire}" styleClass="form-control" />
				</div>
				<div class="form-group">
            		<label for="dateExpiration">Date de debut</label>
                	<div class='input-group date' id='dateD'>
	                    <h:inputText type='text' class="form-control" value="#{appelOffreController.experience.dateDebut}">
	                    	<f:convertDateTime pattern="dd/mm/yyyy" />
	                    </h:inputText>
	                    <span class="input-group-addon">
	                        <span class="glyphicon glyphicon-calendar"></span>
	                    </span>
                	</div>
            	</div>
            	<div class="form-group">
            		<label for="dateExpiration">Date de fin</label>
                	<div class='input-group date' id='dateF'>
	                    <h:inputText type='text' class="form-control" value="#{appelOffreController.experience.dateFin}">
	                    	<f:convertDateTime pattern="dd/mm/yyyy" />
	                    </h:inputText>
	                    <span class="input-group-addon">
	                        <span class="glyphicon glyphicon-calendar"></span>
	                    </span>
                	</div>
            	</div>
				<div class="btn-group" role="group">
					<h:commandButton action="#{appelOffreController.ajouterExperience()}" styleClass="btn btn-success btn-hover-green" value="Ajouter"/>
				</div>

			</h:form>

		</div>
		<div class="modal-footer">
			<div class="btn-group btn-group-justified" role="group" aria-label="group button">
				<div class="btn-group" role="group">
					<button type="button" class="btn btn-default" data-dismiss="modal"  role="button">Fermer</button>
				</div>
			</div>
		</div>
	</div>
</div>
</div>
<!-- /MODAL: Ajout experience-->

<!-- MODAL: Ajout formation-->
<div class="modal fade" id="ajoutFormation" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
				<h3 class="modal-title" id="lineModalLabel">Ajout Formation</h3>
			</div>
			<div class="modal-body">

				<!-- content goes here -->
				<h:form >

				<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
				<div class="form-group">
					<label for="intitule">Intitule</label>
					<div class='input-group date'>
						<h:inputText id="intitule" value="#{appelOffreController.formation.intituleFormation}" styleClass="form-control" />
					</div>
				</div>
				<div class="form-group">
					<label for="etablissement">Etablissement</label>
					<div class='input-group date'>
						<h:inputText id="etablissement" value="#{appelOffreController.formation.etablissement}" styleClass="form-control" />
					</div>
				</div>
				
				<div class="form-group">
            		<label for="dateExpiration">Date de debut</label>
                	<div class='input-group date' id='dateD'>
	                    <h:inputText type='text' class="form-control" value="#{appelOffreController.formation.dateDebut}">
	                    	<f:convertDateTime pattern="dd/mm/yyyy" />
	                    </h:inputText>
	                    <span class="input-group-addon">
	                        <span class="glyphicon glyphicon-calendar"></span>
	                    </span>
                	</div>
            	</div>
            	<div class="form-group">
            		<label for="dateExpiration">Date de fin</label>
                	<div class='input-group date' id='dateF'>
	                    <h:inputText type='text' class="form-control" value="#{appelOffreController.formation.dateFin}">
	                    	<f:convertDateTime pattern="dd/mm/yyyy" />
	                    </h:inputText>
	                    <span class="input-group-addon">
	                        <span class="glyphicon glyphicon-calendar"></span>
	                    </span>
                	</div>
            	</div>
				<div class="btn-group" role="group">
					<h:commandButton action="#{appelOffreController.ajouterFormation()}" styleClass="btn btn-success btn-hover-green" value="Ajouter"/>
				</div>

			</h:form>

		</div>
		<div class="modal-footer">
			<div class="btn-group btn-group-justified" role="group" aria-label="group button">
				<div class="btn-group" role="group">
					<button type="button" class="btn btn-default" data-dismiss="modal"  role="button">Fermer</button>
				</div>
			</div>
		</div>
	</div>
</div>
</div>
<!-- /MODAL: Ajout formation-->

<!-- MODAL: Ajout competence-->
<div class="modal fade" id="ajoutCompetence" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
				<h3 class="modal-title" id="lineModalLabel">Ajout Competence</h3>
			</div>
			<div class="modal-body">

				<!-- content goes here -->
				<h:form >

				<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
				<div class="form-group">
					<label for="intitule">Intitule</label>
					<div class='input-group date'>
						<h:inputText id="intitule" value="#{appelOffreController.competence.intitule}" styleClass="form-control" />
					</div>
				</div>
	
				<div class="btn-group" role="group">
					<h:commandButton action="#{appelOffreController.ajouterCompetence()}" styleClass="btn btn-success btn-hover-green" value="Ajouter"/>
				</div>

			</h:form>

		</div>
		<div class="modal-footer">
			<div class="btn-group btn-group-justified" role="group" aria-label="group button">
				<div class="btn-group" role="group">
					<button type="button" class="btn btn-default" data-dismiss="modal"  role="button">Fermer</button>
				</div>
			</div>
		</div>
	</div>
</div>
</div>
<!-- /MODAL: Ajout experience-->
	</ui:define>	
</ui:composition>
	