<ui:composition template="../templates/common.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jstl/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:sec="http://www.springframework.org/security/tags">
	<ui:define name="content">

		<f:metadata>
			<f:viewAction action="#{appelOffreController.listerAppelOffres}" />
		</f:metadata>
		<div class="grid-form">
			<div class="grid-form1">
				<h3 class="head-top">Appels d'offres</h3>
				<h:form>
					<input type="hidden" name="${_csrf.parameterName}"
						value="${_csrf.token}" />

					<table class="table table-striped table-hover">
						<tr>
							<th>Sujet</th>
							<th>Statut</th>
						</tr>

						<c:forEach items="#{appelOffreController.listes}" var="item"
							varStatus="statut">

							<tr>
								<td>#{item.cahierDesCharges.sujet}</td>
								<td>#{item.statut}</td>
								<td>
									<!--  <button data-toggle="modal"
								data-target="#detailsAppelOffre-#{statut.count}" type="button"
								class="btn btn-default ">...</button>--> <h:commandButton
										value="DÃ©tails" class="btn btn-default"
										action="#{appelOffreController.detailsAppelOffre}">

										<f:setPropertyActionListener
											target="#{appelOffreController.appelOffre}" value="#{item}" />
										<f:param name="idAppelOffre" value="#{appelOffre.id}" />
									</h:commandButton>
								</td>
							</tr>
						</c:forEach>
					</table>
				</h:form>
			</div>
		</div>

	</ui:define>
</ui:composition>
